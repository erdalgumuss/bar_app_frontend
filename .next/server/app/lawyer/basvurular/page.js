(()=>{var r={};r.id=322,r.ids=[322],r.modules={72934:r=>{"use strict";r.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:r=>{"use strict";r.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:r=>{"use strict";r.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:r=>{"use strict";r.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:r=>{"use strict";r.exports=require("assert")},17702:r=>{"use strict";r.exports=require("events")},92048:r=>{"use strict";r.exports=require("fs")},32615:r=>{"use strict";r.exports=require("http")},35240:r=>{"use strict";r.exports=require("https")},19801:r=>{"use strict";r.exports=require("os")},55315:r=>{"use strict";r.exports=require("path")},76162:r=>{"use strict";r.exports=require("stream")},74175:r=>{"use strict";r.exports=require("tty")},17360:r=>{"use strict";r.exports=require("url")},21764:r=>{"use strict";r.exports=require("util")},71568:r=>{"use strict";r.exports=require("zlib")},14861:(r,e,a)=>{"use strict";a.r(e),a.d(e,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>h,tree:()=>u}),a(63057),a(7056),a(96565),a(90996);var t=a(30170),i=a(45002),s=a(83876),n=a.n(s),o=a(66299),l={};for(let r in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(r)&&(l[r]=()=>o[r]);a.d(e,l);let u=["",{children:["lawyer",{children:["basvurular",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,63057)),"/Users/macbookpro/bar_app_frontend/app/lawyer/basvurular/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7056)),"/Users/macbookpro/bar_app_frontend/app/lawyer/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,96565)),"/Users/macbookpro/bar_app_frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macbookpro/bar_app_frontend/app/lawyer/basvurular/page.tsx"],d="/lawyer/basvurular/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/lawyer/basvurular/page",pathname:"/lawyer/basvurular",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},35620:(r,e,a)=>{Promise.resolve().then(a.bind(a,62509))},62509:(r,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>m});var t=a(97247),i=a(28964),s=a(25995),n=a(44283),o=a(58053),l=a(88964);function u({applications:r=[],onSelectApplication:e,onApproveApplication:a,onOpenCase:i}){return r&&0!==r.length?(0,t.jsxs)(n.iA,{children:[t.jsx(n.xD,{children:(0,t.jsxs)(n.SC,{children:[t.jsx(n.ss,{children:"Başvuru No"}),t.jsx(n.ss,{children:"Başvuran"}),t.jsx(n.ss,{children:"Konu"}),t.jsx(n.ss,{children:"Tarih"}),t.jsx(n.ss,{children:"Durum"}),t.jsx(n.ss,{children:"İşlemler"})]})}),t.jsx(n.RM,{children:r.map(r=>(0,t.jsxs)(n.SC,{className:"cursor-pointer",onClick:()=>e(r),children:[t.jsx(n.pj,{children:r._id})," ",t.jsx(n.pj,{children:r.applicantName}),t.jsx(n.pj,{children:r.eventTitle}),t.jsx(n.pj,{children:r.date}),t.jsx(n.pj,{children:t.jsx(l.C,{variant:"beklemede"===r.status?"default":"secondary",children:r.status})}),t.jsx(n.pj,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:["beklemede"===r.status&&t.jsx(o.z,{onClick:e=>{e.stopPropagation(),a(r._id)},children:"Onayla"}),"işlemde"===r.status&&t.jsx(o.z,{onClick:e=>{e.stopPropagation(),i(r._id)},children:"Dava A\xe7"})]})})]},r._id))})]}):t.jsx("p",{className:"text-center py-4",children:"Hen\xfcz başvuru bulunmamaktadır."})}var c=a(9895),d=a(5079),p=a(34178),h=a(76931);function m(){let[r,e]=(0,i.useState)(null),[a,n]=(0,i.useState)(!1),o=(0,p.useRouter)(),{applications:l,fetchApplications:m,updateApplication:x}=(0,h.Z)(),g=async r=>{try{await x(r,{status:"işlemde"}),(0,s.Am)({title:"Başvuru Onaylandı",description:"Başvuru durumu başarıyla g\xfcncellendi."})}catch(r){console.error(r),(0,s.Am)({title:"Hata",description:"Başvuru onaylanırken bir hata oluştu."})}};return t.jsx(d.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Başvuru Y\xf6netimi"}),t.jsx(u,{applications:l,onSelectApplication:r=>{o.push(`/lawyer/applications/${r._id}`)},onApproveApplication:g,onOpenCase:r=>{let a=l.find(e=>e._id===r);a&&(e(a),n(!0))}}),a&&r&&t.jsx(c.Z,{onClose:()=>n(!1),onSubmit:a=>{if(r){let t={...r,status:"beklemede",history:[...r.history,{date:new Date().toISOString(),action:"Case Opened",description:`Case Number: ${a.caseNumber}`}]};x(r._id,t),e(null),n(!1),(0,s.Am)({title:"Dava Oluşturuldu",description:`Başvuru durumu g\xfcncellendi. (${a.caseNumber})`})}},application:r})]})})}},5079:(r,e,a)=>{"use strict";a.d(e,{Z:()=>n});var t=a(97247),i=a(41295),s=a(20312);function n({children:r}){return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-900 text-gray-100",children:[t.jsx(i.default,{}),t.jsx("main",{className:"flex-grow mt-16 container mx-auto px-4 py-8",children:r}),t.jsx(s.Z,{})]})}},88964:(r,e,a)=>{"use strict";a.d(e,{C:()=>o});var t=a(97247);a(28964);var i=a(87972),s=a(25008);let n=(0,i.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-600 text-white shadow hover:bg-green-500"}},defaultVariants:{variant:"default"}});function o({className:r,variant:e,...a}){return t.jsx("div",{className:(0,s.cn)(n({variant:e}),r),...a})}},98891:(r,e,a)=>{"use strict";a.d(e,{Jv:()=>l,RV:()=>o,W3:()=>s,li:()=>n,rw:()=>u,tk:()=>c});var t=a(10863);let i="http://localhost:5000/api/applications",s=async r=>{try{return(await t.Z.post(`${i}`,r)).data}catch(e){let r=e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.");throw Error(r?.message||"Başvuru eklenirken bir hata oluştu.")}},n=async(r,e)=>{try{return(await t.Z.put(`${i}/${r}`,e)).data}catch(e){let r=e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.");throw Error(r?.message||"Başvuru g\xfcncellenirken bir hata oluştu.")}},o=async r=>{try{let e=r?`?${new URLSearchParams(r).toString()}`:"",a=await t.Z.get(`${i}${e}`);return console.log("response.data services:",a.data),a.data}catch(e){let r=e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.");throw Error(r?.message||"Başvurular alınırken bir hata oluştu.")}},l=async r=>{try{return(await t.Z.get(`${i}/${r}`)).data}catch(e){let r=e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.");throw Error(r?.message||"Başvuru detayları alınırken bir hata oluştu.")}},u=async r=>{try{return await t.Z.delete(`${i}/${r}`),{message:"Başvuru başarıyla silindi."}}catch(e){let r=e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.");throw Error(r?.message||"Başvuru silinirken bir hata oluştu.")}},c=async(r,e)=>{try{return(await t.Z.put(`${i}/${r}/assign-lawyer`,{lawyerId:e})).data}catch(e){let r=e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.");throw Error(r?.message||"Avukat atanırken bir hata oluştu.")}}},76931:(r,e,a)=>{"use strict";a.d(e,{Z:()=>s});var t=a(99713),i=a(98891);let s=(0,t.U)(r=>({applications:[],currentApplication:null,loading:!1,error:null,fetchApplications:async e=>{r({loading:!0,error:null});try{let a=await (0,i.RV)(e);r({applications:a,loading:!1}),console.log("Storedaki veriler:",a)}catch(e){r({error:(e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},addApplication:async e=>{r({loading:!0,error:null});try{let a=await (0,i.W3)(e);r(r=>({applications:[...r.applications,a],loading:!1}))}catch(e){r({error:(e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},updateApplication:async(e,a)=>{r({loading:!0,error:null});try{let t=await (0,i.li)(e,a);r(r=>({applications:r.applications.map(r=>r._id===e?t:r),loading:!1}))}catch(e){r({error:(e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},deleteApplication:async e=>{r({loading:!0,error:null});try{await (0,i.rw)(e),r(r=>({applications:r.applications.filter(r=>r._id!==e),loading:!1}))}catch(e){r({error:(e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},loadApplicationDetails:async e=>{r({loading:!0,error:null});try{let a=await (0,i.Jv)(e);r({currentApplication:a,loading:!1})}catch(e){r({error:(e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},assignLawyerToApplication:async(e,a)=>{r({loading:!0,error:null});try{let t=await (0,i.tk)(e,a);r(r=>({applications:r.applications.map(r=>r._id===e?t:r),loading:!1}))}catch(e){r({error:(e instanceof Error?e:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}}}))},63057:(r,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>t});let t=(0,a(45347).createProxy)(String.raw`/Users/macbookpro/bar_app_frontend/app/lawyer/basvurular/page.tsx#default`)}};var e=require("../../../webpack-runtime.js");e.C(r);var a=r=>e(e.s=r),t=e.X(0,[146,760,501,954,817,602,588,411],()=>a(14861));module.exports=t})();