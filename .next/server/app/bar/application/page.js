(()=>{var e={};e.id=918,e.ids=[918],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},26112:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(34117),r(39697),r(96565),r(90996);var t=r(30170),s=r(45002),l=r(83876),i=r.n(l),n=r(66299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(a,o);let c=["",{children:["bar",{children:["application",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,34117)),"/Users/macbookpro/bar_app_frontend/app/bar/application/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,39697)),"/Users/macbookpro/bar_app_frontend/app/bar/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,96565)),"/Users/macbookpro/bar_app_frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/macbookpro/bar_app_frontend/app/bar/application/page.tsx"],u="/bar/application/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/bar/application/page",pathname:"/bar/application",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},31303:(e,a,r)=>{Promise.resolve().then(r.bind(r,38342))},38342:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>R});var t=r(97247),s=r(28964),l=r(53417),i=r(70170),n=r(94049),o=r(22394),c=r(62968),d=r.n(c);function u({applications:e,onFilter:a}){let[r,l]=(0,s.useState)(""),[c,u]=(0,s.useState)("all"),[p,x]=(0,s.useState)(""),[h,m]=(0,s.useState)("");return(0,s.useMemo)(()=>d()(e=>{a(e)},300),[a]),t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[t.jsx(o._,{htmlFor:"search",className:"text-gray-100",children:"Arama"}),t.jsx(i.I,{id:"search",placeholder:"Başvuru No, Başvuran Kişi veya Olay Başlığı",value:r,onChange:e=>l(e.target.value),className:"bg-gray-800 text-gray-100 border-gray-700"})]}),(0,t.jsxs)("div",{children:[t.jsx(o._,{htmlFor:"status",className:"text-gray-100",children:"Durum"}),(0,t.jsxs)(n.Ph,{value:c,onValueChange:u,children:[t.jsx(n.i4,{id:"status",className:"w-[200px] bg-gray-800 text-gray-100 border-gray-700",children:t.jsx(n.ki,{placeholder:"Durum se\xe7in"})}),(0,t.jsxs)(n.Bw,{className:"bg-gray-800 text-gray-100 border-gray-700",children:[t.jsx(n.Ql,{value:"all",children:"T\xfcm\xfc"}),t.jsx(n.Ql,{value:"işlemde",children:"İşlemde"}),t.jsx(n.Ql,{value:"beklemede",children:"Beklemede"}),t.jsx(n.Ql,{value:"tamamlandı",children:"Tamamlandı"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"startDate",className:"text-gray-100",children:"Başlangı\xe7 Tarihi"}),t.jsx(i.I,{id:"startDate",type:"date",value:p,onChange:e=>x(e.target.value),className:"bg-gray-800 text-gray-100 border-gray-700"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"endDate",className:"text-gray-100",children:"Bitiş Tarihi"}),t.jsx(i.I,{id:"endDate",type:"date",value:h,onChange:e=>m(e.target.value),className:"bg-gray-800 text-gray-100 border-gray-700"})]})]})})}var p=r(44283),x=r(58053),h=r(88964),m=r(43690);function y({applications:e=[],onUpdateApplication:a,onDavaSelect:r}){let[l,i]=(0,s.useState)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.iA,{children:[t.jsx(p.xD,{children:(0,t.jsxs)(p.SC,{children:[t.jsx(p.ss,{className:"text-gray-300",children:"Başvuran Adı-Soyadı"}),t.jsx(p.ss,{className:"text-gray-300",children:"Telefon"}),t.jsx(p.ss,{className:"text-gray-300",children:"Başvuru Başlığı"}),t.jsx(p.ss,{className:"text-gray-300",children:"Kategori"}),t.jsx(p.ss,{className:"text-gray-300",children:"Durum"}),t.jsx(p.ss,{className:"text-gray-300",children:"Başvuru Tarihi"}),t.jsx(p.ss,{className:"text-gray-300",children:"Atanan Avukat"}),t.jsx(p.ss,{className:"text-gray-300",children:"İşlemler"})]})}),t.jsx(p.RM,{children:e.map(e=>(0,t.jsxs)(p.SC,{className:"hover:bg-gray-800 border-gray-700 cursor-pointer",onClick:()=>r(e),children:[t.jsx(p.pj,{className:"text-gray-100",children:e.applicantName||"N/A"}),t.jsx(p.pj,{className:"text-gray-100",children:e.contactDetails?.phone||"N/A"}),t.jsx(p.pj,{className:"text-gray-100",children:e.eventTitle||"N/A"}),t.jsx(p.pj,{className:"text-gray-100",children:t.jsx(h.C,{variant:"secondary",children:e.eventCategory||"N/A"})}),t.jsx(p.pj,{className:"text-gray-100",children:t.jsx(h.C,{variant:"beklemede"===e.status?"default":"success",children:e.status||"N/A"})}),t.jsx(p.pj,{className:"text-gray-100",children:e.date?new Date(e.date).toLocaleDateString("tr-TR"):"N/A"}),t.jsx(p.pj,{className:"text-gray-100",children:e.assignedLawyer||"Atanmadı"}),t.jsx(p.pj,{children:t.jsx(x.z,{variant:"outline",className:"text-yellow-500 hover:text-yellow-600",onClick:a=>{a.stopPropagation(),i(e)},children:"D\xfczenle"})})]},e._id))})]}),l&&t.jsx(m.Z,{application:l,onClose:()=>i(null),onSubmit:e=>{a(e),i(null)}})]})}var g=r(27757),b=r(83936),j=r(28116),v=r(11746),f=r(14779),N=r(67579),k=r(28801),w=r(22794),B=r(69331),E=r(90486),_=r(50511),A=r(99033);let S=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];function C({applications:e}){let a=Object.entries(e.reduce((e,a)=>(e[a.eventCategory]=(e[a.eventCategory]||0)+1,e),{})).map(([e,a])=>({name:e,value:a})),r=Object.entries(e.reduce((e,a)=>{let r=new Date(a.date).getMonth();return e[r]=(e[r]||0)+1,e},{})).map(([e,a])=>({month:new Date(2023,Number(e)).toLocaleString("default",{month:"long"}),count:a}));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(g.Zb,{className:"bg-gray-800 text-gray-100",children:[t.jsx(g.Ol,{children:t.jsx(g.ll,{children:"Başvuru Kategorilerine G\xf6re Dağılım"})}),t.jsx(g.aY,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(b.h,{width:"100%",height:"100%",children:(0,t.jsxs)(j.u,{children:[t.jsx(v.b,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:a})=>`${e} ${(100*a).toFixed(0)}%`,children:a.map((e,a)=>t.jsx(f.b,{fill:S[a%S.length]},`cell-${a}`))}),t.jsx(N.u,{}),t.jsx(k.D,{})]})})})})]}),(0,t.jsxs)(g.Zb,{className:"bg-gray-800 text-gray-100",children:[t.jsx(g.Ol,{children:t.jsx(g.ll,{children:"Aylık Başvuru Sayıları"})}),t.jsx(g.aY,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(b.h,{width:"100%",height:"100%",children:(0,t.jsxs)(w.v,{data:r,children:[t.jsx(B.q,{strokeDasharray:"3 3"}),t.jsx(E.K,{dataKey:"month"}),t.jsx(_.B,{}),t.jsx(N.u,{}),t.jsx(k.D,{}),t.jsx(A.$,{dataKey:"count",fill:"#8884d8"})]})})})})]})]})}var q=r(84662),D=r(25995),P=r(34178),Z=r(76931);function R(){let{applications:e,fetchApplications:a,addApplication:r,updateApplication:i}=(0,Z.Z)(),{toast:n}=(0,D.pm)(),o=(0,P.useRouter)(),[c,d]=(0,s.useState)("list"),[p,h]=(0,s.useState)(!1),[g]=(0,s.useState)(null),b=async e=>{try{await r(e),h(!1),n({title:"Başvuru Eklendi",description:"Yeni başvuru başarıyla eklendi."})}catch{n({title:"Hata",description:"Başvuru eklenirken bir hata oluştu.",variant:"destructive"})}},j=async e=>{try{await i(e._id,e),n({title:"Başvuru G\xfcncellendi",description:"Başvuru bilgileri başarıyla g\xfcncellendi."})}catch{n({title:"Hata",description:"Başvuru g\xfcncellenirken bir hata oluştu.",variant:"destructive"})}};return t.jsx(l.Z,{children:(0,t.jsxs)("div",{className:"space-y-6 bg-gray-900 text-gray-100 p-6 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Başvuru Y\xf6netimi"}),t.jsx(x.z,{onClick:()=>h(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:"Yeni Başvuru Ekle"})]}),t.jsx(u,{applications:e,onFilter:e=>console.log(e)}),(0,t.jsxs)(q.mQ,{value:c,onValueChange:e=>d(e),children:[(0,t.jsxs)(q.dr,{children:[t.jsx(q.SP,{value:"list",children:"Başvuru Listesi"}),t.jsx(q.SP,{value:"statistics",children:"İstatistikler"})]}),t.jsx(q.nU,{value:"list",children:t.jsx(y,{applications:e,onUpdateApplication:j,onDavaSelect:e=>{o.push(`/bar/application/${e._id}`)}})}),t.jsx(q.nU,{value:"statistics",children:t.jsx(C,{applications:e})})]}),p&&t.jsx(m.Z,{application:g,onClose:()=>h(!1),onSubmit:b})]})})}},44283:(e,a,r)=>{"use strict";r.d(a,{RM:()=>o,SC:()=>c,iA:()=>i,pj:()=>u,ss:()=>d,xD:()=>n});var t=r(97247),s=r(28964),l=r(25008);let i=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})}));i.displayName="Table";let n=s.forwardRef(({className:e,...a},r)=>t.jsx("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",e),...a}));n.displayName="TableHeader";let o=s.forwardRef(({className:e,...a},r)=>t.jsx("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a}));o.displayName="TableBody",s.forwardRef(({className:e,...a},r)=>t.jsx("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let c=s.forwardRef(({className:e,...a},r)=>t.jsx("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));c.displayName="TableRow";let d=s.forwardRef(({className:e,...a},r)=>t.jsx("th",{ref:r,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));d.displayName="TableHead";let u=s.forwardRef(({className:e,...a},r)=>t.jsx("td",{ref:r,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));u.displayName="TableCell",s.forwardRef(({className:e,...a},r)=>t.jsx("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},19400:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(26323).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},17316:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(26323).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5271:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(26323).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},57989:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(26323).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},98891:(e,a,r)=>{"use strict";r.d(a,{Jv:()=>o,RV:()=>n,W3:()=>l,li:()=>i,rw:()=>c,tk:()=>d});var t=r(10863);let s="http://localhost:5000/api/applications",l=async e=>{try{return(await t.Z.post(`${s}`,e)).data}catch(a){let e=a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.");throw Error(e?.message||"Başvuru eklenirken bir hata oluştu.")}},i=async(e,a)=>{try{return(await t.Z.put(`${s}/${e}`,a)).data}catch(a){let e=a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.");throw Error(e?.message||"Başvuru g\xfcncellenirken bir hata oluştu.")}},n=async e=>{try{let a=e?`?${new URLSearchParams(e).toString()}`:"",r=await t.Z.get(`${s}${a}`);return console.log("response.data services:",r.data),r.data}catch(a){let e=a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.");throw Error(e?.message||"Başvurular alınırken bir hata oluştu.")}},o=async e=>{try{return(await t.Z.get(`${s}/${e}`)).data}catch(a){let e=a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.");throw Error(e?.message||"Başvuru detayları alınırken bir hata oluştu.")}},c=async e=>{try{return await t.Z.delete(`${s}/${e}`),{message:"Başvuru başarıyla silindi."}}catch(a){let e=a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.");throw Error(e?.message||"Başvuru silinirken bir hata oluştu.")}},d=async(e,a)=>{try{return(await t.Z.put(`${s}/${e}/assign-lawyer`,{lawyerId:a})).data}catch(a){let e=a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.");throw Error(e?.message||"Avukat atanırken bir hata oluştu.")}}},76931:(e,a,r)=>{"use strict";r.d(a,{Z:()=>l});var t=r(99713),s=r(98891);let l=(0,t.U)(e=>({applications:[],currentApplication:null,loading:!1,error:null,fetchApplications:async a=>{e({loading:!0,error:null});try{let r=await (0,s.RV)(a);e({applications:r,loading:!1}),console.log("Storedaki veriler:",r)}catch(a){e({error:(a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},addApplication:async a=>{e({loading:!0,error:null});try{let r=await (0,s.W3)(a);e(e=>({applications:[...e.applications,r],loading:!1}))}catch(a){e({error:(a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},updateApplication:async(a,r)=>{e({loading:!0,error:null});try{let t=await (0,s.li)(a,r);e(e=>({applications:e.applications.map(e=>e._id===a?t:e),loading:!1}))}catch(a){e({error:(a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},deleteApplication:async a=>{e({loading:!0,error:null});try{await (0,s.rw)(a),e(e=>({applications:e.applications.filter(e=>e._id!==a),loading:!1}))}catch(a){e({error:(a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},loadApplicationDetails:async a=>{e({loading:!0,error:null});try{let r=await (0,s.Jv)(a);e({currentApplication:r,loading:!1})}catch(a){e({error:(a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}},assignLawyerToApplication:async(a,r)=>{e({loading:!0,error:null});try{let t=await (0,s.tk)(a,r);e(e=>({applications:e.applications.map(e=>e._id===a?t:e),loading:!1}))}catch(a){e({error:(a instanceof Error?a:Error("Bilinmeyen bir hata oluştu.")).message,loading:!1})}}}))},34117:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(45347).createProxy)(String.raw`/Users/macbookpro/bar_app_frontend/app/bar/application/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[146,760,501,954,193,102,57,602,136,923],()=>r(26112));module.exports=t})();